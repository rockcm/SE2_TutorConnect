# TutorConnect Payment Testing Guide

This guide explains how to test the Stripe payment integration in the TutorConnect application using test card numbers.

## Step-by-Step Guide to Test the Payment System

### 1. Access the Payment Page

- Open your web browser and navigate to http://127.0.0.1:5000/payment
- You should see the payment page with:
  - A navigation bar at the top
  - Order summary showing tutor details and cost ($50.00)
  - The test card helper box with test card numbers
  - The Stripe card input field
  - A "Confirm Payment" button

### 2. Testing a Successful Payment

1. In the Stripe card input field, enter:
   - Card number: **4242 4242 4242 4242**
   - Any future expiration date (e.g., 12/25)
   - Any 3-digit CVC (e.g., 123)
   - Any postal code (e.g., 12345)

2. Click the "Confirm Payment" button
   - You should see the button change to "Processing..."
   - After a brief moment, it should show "Payment Complete"
   - You should see a success message: "Payment Successful! Your session has been booked."
   - The message will be in green color

### 3. Testing a Payment Requiring Authentication

1. Clear the form or reload the page
2. Enter:
   - Card number: **4000 0025 0000 3155**
   - Any future expiration date, CVC, and postal code

3. Click "Confirm Payment"
   - This should trigger Stripe's 3D Secure authentication flow
   - You'll see a popup where you need to complete the authentication
   - For test purposes, you can click "Complete" in the authentication window
   - After authentication, the payment should complete successfully

### 4. Testing a Declined Payment (Insufficient Funds)

1. Clear the form or reload the page
2. Enter:
   - Card number: **4000 0000 0000 9995**
   - Any future expiration date, CVC, and postal code

3. Click "Confirm Payment"
   - You should see the button change to "Try Again"
   - You should see an error message: "Payment Failed: Your card has insufficient funds."
   - The message will be in red color

### 5. Testing a Declined Payment (Expired Card)

1. Clear the form or reload the page
2. Enter:
   - Card number: **4000 0000 0000 0069**
   - Any future expiration date, CVC, and postal code

3. Click "Confirm Payment"
   - You should see the button change to "Try Again"
   - You should see an error message: "Payment Failed: Your card has expired."
   - The message will be in red color

## Additional Test Card Numbers

Here are some additional test card numbers for other scenarios:

- **Card Declined (Generic Decline)**: 4000 0000 0000 0002
- **Card Declined (Fraudulent)**: 4100 0000 0000 0019
- **Card Declined (Lost Card)**: 4000 0000 0000 0010
- **Incorrect CVC**: 4000 0000 0000 0127
- **Processing Error**: 4000 0000 0000 0119

## Notes for Developers

- These are client-side simulations. For full integration testing, verify webhook handling on your server as well.
- In production, remove the test cards helper section from the payment page and switch to live Stripe API keys.
- Test cards only work with test mode Stripe API keys.
- The current implementation handles basic payment scenarios. For subscription or complex payment flows, additional Stripe integration may be required.

## Stripe Dashboard

All test payments can be viewed in your Stripe Dashboard (https://dashboard.stripe.com/test/payments) when using test API keys. Test payments are clearly marked with a "TEST" label in the dashboard.